{% load product_tags %}

{% block header-extra-recourses %}
    <link href="/static/css/bootstrap.min.css" rel="stylesheet" media="print">
    <link href="/static/plugins/jQueryPrint/css/myPrint.css" rel="stylesheet" media="print">
{% endblock %}

<!-- 二维码弹出框 -->
<div style="margin-left:-300px" class="modal fade" id="print_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div id="print_modal" style="width: 297mm" class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">产品详情</h4>
            </div>
            <div class="modal-body">
                {% include 'ymx01/product_detail_template.html' %}

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>关闭
                </button>
                <button type="button" onclick="printHtml()" id="btn_print" class="btn btn-primary" data-dismiss="modal">
                    <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>打印
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    function printHtml() {
        $("#print_panel").print({
                    //Use Global styles
                    globalStyles : false,
                    //Add link with attrbute media=print
                    mediaPrint : true,
                    //Print in a hidden iframe
                    iframe : false,
                    //Don't print this
                    noPrintSelector : ".avoid-this",
                    //Add this at top
                    prepend : null,
                    //Add this on bottom
                    append : null,
                    //Log to console when printing is done via a deffered callback
                    //deferred: $.Deferred().done(function() { console.log('Printing done', arguments); })
        });
    }

</script>